{
    "name": "Rust SDL2 Dev Container",
    "build": {
        "dockerfile": "Dockerfile",
        "context": ".."
    },
    "runArgs": [
        "--gpus=all",
        "--privileged",
        "--env", "WAYLAND_DISPLAY=wayland-0",
        "--env", "XDG_RUNTIME_DIR=/run/user/1000",
        "--env", "PULSE_SERVER=unix:/run/user/1000/pulse/native",
        "--volume", "/run/user/1000:/run/user/1000",
        "--device", "/dev/dri",
        "--env", "NVIDIA_DRIVER_CAPABILITIES=all"
    ],
    "customizations": {
        "vscode": {
            "extensions": [
                "rust-lang.rust-analyzer"
            ]
        }
    },
    "postCreateCommand": "cargo build",
    "workspaceFolder": "/app",
    "remoteUser": "root"
}
